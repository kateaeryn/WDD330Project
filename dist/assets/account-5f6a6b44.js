import{l as d,s as m}from"./utilities-d2330b11.js";import{g as u,a as p}from"./services-d84aafaf.js";d();m();function g(e){const o=document.querySelector(".watchList"),t=document.createElement("div"),r=document.createElement("a"),n=document.createElement("img"),s=document.createElement("h1"),i=document.createElement("p"),l=document.createElement("p"),a=document.createElement("button"),c=document.createElement("section");a.classList.add("listBtn"),a.setAttribute("id",e[0]),t.classList.add("card"),t.setAttribute("id",e[0]),e[5]=="tv"?r.href="../tvDetail.html?tv="+e[0]:r.href="../movieDetail.html?movie="+e[0],n.src="https://image.tmdb.org/t/p/original/"+e[2],n.alt=e[1],s.innerText=e[1],a.innerHTML="Remove From Watch List",i.innerHTML=new Date(e[4]).getFullYear(),l.innerHTML=e[3]+" minutes",r.append(n),c.append(s,i,l,a),t.append(r,c),o.append(t)}function h(){let e=localStorage.getItem("wishlist");if(e=e?localStorage.getItem("wishlist"):[],e=="[]"){const o=document.querySelector(".watchList"),t=document.createElement("h1");t.innerText="There's nothing here . . . so sad . . . Time to find your next great movie!",o.append(t)}else JSON.parse(e).forEach(t=>{g(t)})}h();let f=document.querySelectorAll(".listBtn");f.forEach(e=>{e.addEventListener("click",o=>{if(o.preventDefault(),o.target.classList.contains("listBtn")){const t=o.currentTarget.getAttribute("id");let r=localStorage.getItem("wishlist"),n=JSON.parse(r);n.forEach(s=>{if(s[0]==t){const i=n.findIndex(l=>l[0]==t);n.splice(i,1),localStorage.setItem("wishlist",JSON.stringify(n)),document.location.reload()}})}})});async function E(){let o=(await u()).results;const t=document.querySelector(".trending");o.map(async r=>{const n=document.createElement("img"),s=document.createElement("a");let a=(await p(r.id)).posters[0].file_path;s.href="../movieDetail.html?movie="+r.id,n.src="https://image.tmdb.org/t/p/original"+a,n.alt=r.title,s.append(n),t.append(s)})}E();
