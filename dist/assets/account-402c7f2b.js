import{l as d,s as m}from"./utilities-260fb832.js";import{g as u,a as g}from"./services-9b1c298b.js";d();m();function p(e){const r=document.querySelector(".watchList"),t=document.createElement("div"),o=document.createElement("a"),n=document.createElement("img"),s=document.createElement("h1"),a=document.createElement("p"),i=document.createElement("p"),l=document.createElement("button"),c=document.createElement("section");l.classList.add("listBtn"),l.setAttribute("id",e[0]),t.classList.add("card"),t.setAttribute("id",e[0]),e[6]=="tv"?(o.href="../tvDetail.html?tv="+e[0],a.innerHTML=new Date(e[4]).getFullYear()+" - "+new Date(e[5]).getFullYear()):(o.href="../movieDetail.html?movie="+e[0],a.innerHTML=new Date(e[4]).getFullYear()),n.src="https://image.tmdb.org/t/p/original/"+e[2],n.alt=e[1],s.innerText=e[1],l.innerHTML="Remove From Watch List",i.innerHTML=e[3]+" minutes",o.append(n),c.append(s,a,i,l),t.append(o,c),r.append(t)}function h(){let e=localStorage.getItem("wishlist");if(e=e?localStorage.getItem("wishlist"):[],e=="[]"){const r=document.querySelector(".watchList"),t=document.createElement("h1");t.innerText="There's nothing here . . . so sad . . . Time to find your next great movie!",r.append(t)}else JSON.parse(e).forEach(t=>{p(t)})}h();let f=document.querySelectorAll(".listBtn");f.forEach(e=>{e.addEventListener("click",r=>{if(r.preventDefault(),r.target.classList.contains("listBtn")){const t=r.currentTarget.getAttribute("id");let o=localStorage.getItem("wishlist"),n=JSON.parse(o);n.forEach(s=>{if(s[0]==t){const a=n.findIndex(i=>i[0]==t);n.splice(a,1),localStorage.setItem("wishlist",JSON.stringify(n)),document.location.reload()}})}})});async function L(){let r=(await u()).results;const t=document.querySelector(".trending");r.map(async o=>{const n=document.createElement("img"),s=document.createElement("a");let l=(await g(o.id)).posters[0].file_path;s.href="../movieDetail.html?movie="+o.id,n.src="https://image.tmdb.org/t/p/original"+l,n.alt=o.title,s.append(n),t.append(s)})}L();
