import{l as d,s as m}from"./utilities-361718f1.js";import{g as u,a as p}from"./services-8984a12e.js";d();m();function g(e){const o=document.querySelector(".watchList"),t=document.createElement("div"),r=document.createElement("a"),n=document.createElement("img"),s=document.createElement("h1"),a=document.createElement("p"),c=document.createElement("p"),i=document.createElement("button"),l=document.createElement("section");i.classList.add("listBtn"),i.setAttribute("id",e[0]),t.classList.add("card"),t.setAttribute("id",e[0]),r.href="../movieDetail.html?movie="+e[0],n.src="https://image.tmdb.org/t/p/original/"+e[2],n.alt=e[1],s.innerText=e[1],i.innerHTML="Remove From Watch List",a.innerHTML=new Date(e[4]).getFullYear(),c.innerHTML=e[3]+" minutes",r.append(n),l.append(s,a,c,i),t.append(r,l),o.append(t)}function h(){let e=localStorage.getItem("wishlist");if(e=e?localStorage.getItem("wishlist"):[],e=="[]"){const o=document.querySelector(".watchList"),t=document.createElement("h1");t.innerText="There's nothing here . . . so sad . . . Time to find your next great movie!",o.append(t)}else JSON.parse(e).forEach(t=>{g(t)})}h();let f=document.querySelectorAll(".listBtn");f.forEach(e=>{e.addEventListener("click",o=>{if(o.preventDefault(),o.target.classList.contains("listBtn")){const t=o.currentTarget.getAttribute("id");let r=localStorage.getItem("wishlist"),n=JSON.parse(r);n.forEach(s=>{if(s[0]==t){const a=n.findIndex(c=>c[0]==t);n.splice(a,1),localStorage.setItem("wishlist",JSON.stringify(n)),document.location.reload()}})}})});async function E(){let o=(await u()).results;const t=document.querySelector(".trending");o.map(async r=>{const n=document.createElement("img"),s=document.createElement("a");let i=(await p(r.id)).posters[0].file_path;s.href="../movieDetail.html?movie="+r.id,n.src="https://image.tmdb.org/t/p/original"+i,n.alt=r.title,s.append(n),t.append(s)})}E();
